@using MVC.Models.Entidades.Perfils
@model IEnumerable<MVC.Models.Entidades.Usuario.User>

@{
    ViewBag.Title = "Lista de Usuários";
}

<div class="inner">
    <a class="btn bg-gray-active" href="@Url.Action("Cadastrar")"><i class="fa fa-2x fa-user-plus"></i> Cadastrar</a>
</div>
<p></p>
    <div class="box box-info">
    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">
            <div class="row">
                @foreach (var item in Model)
               {
                   if (item.Estado)
                   {

                       <div class="col-lg-3">
                           <!-- small box -->
                           <div class="small-box bg-aqua-gradient">
                               <div class="inner">
                                   @{
                                       char[] delimitador = {' '};
                                       string[] pedacos = item.NomeCompleto.Split(delimitador);
                                       int tamanho = pedacos.Length;
                                       int res = tamanho - 2;
                                   }
                                   <h2>@pedacos.First()        @if (pedacos.Last() != pedacos.First()){@pedacos.Last();}</h2>
                                   <p><b>Login:</b> @item.UserName</p>
                                   <p> <b>@item.Email</b><small> </small></p>
                                   <p><b>Telefone:</b> @item.PhoneNumber</p>
                                    <p><b>Cadastrado aos:</b> @item.DataCadastro.ToShortDateString()</p>
                               </div>
                               <div class="icon">
                                   <i class="ion ion-bag"></i>
                               </div>
                               @foreach (var profile in(List<Role>)ViewData["Profile"])
                               {
                                   if (item.PerfilId==profile.Id)
                                   {
                                      <a href="#" class="small-box-footer">@profile.Name.ToUpper() <i class="fa fa-arrow-circle-right"></i></a>
                                   }
                                  
                               }
                           <div class="divider">
                               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Html.ActionLink("Alterar","Alterar",new {@item.Id}, htmlAttributes:new {@class="btn-outline btn-sm bg-yellow-gradient"})&nbsp;&nbsp;
                              
                               @Html.ActionLink("Excluir","Alterar",new {@item.Id}, htmlAttributes:new {@class="btn-outline btn-sm bg-red-gradient"})
                           </div>
                              
                           </div>
                       </div>
                   }
                   else
                   {
                       <div class="col-lg-3">
                           <!-- small box -->
                           <div class="small-box bg-red-gradient">
                               <div class="inner">
                                   @{
                                       char[] delimitador = {' '};
                                       string[] pedacos = item.NomeCompleto.Split(delimitador);
                                       int tamanho = pedacos.Length;
                                       int res = tamanho - 2;
                                   }
                                    <h2>@pedacos.First()        @if (pedacos.Last() != pedacos.First()){@pedacos.Last();}</h2>
                                   <p><b>Login:</b> @item.UserName</p>
                                   <p> <b>@item.Email</b><small> </small></p>
                                   <p><b>Telefone:</b> @item.PhoneNumber</p>
                                    <p><b>Cadastrado aos:</b> @item.DataCadastro.ToShortDateString()</p>
                               </div>
                               <div class="icon">
                                   <i class="ion ion-bag"></i>
                               </div>
                               @foreach (var profile in(List<Role>)ViewData["Profile"])
                               {
                                   if (item.PerfilId==profile.Id)
                                   {
                                      <a href="#" class="small-box-footer">@profile.Name.ToUpper() <i class="fa fa-arrow-circle-right"></i></a>
                                   }
                                  
                               }
                              <div class="divider">
                               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Html.ActionLink("Alterar","Alterar",new {@item.Id}, htmlAttributes:new {@class="btn-outline btn-sm bg-yellow-gradient"})&nbsp;&nbsp;
                              
                               @Html.ActionLink("Excluir","Alterar",new {@item.Id}, htmlAttributes:new {@class="btn-outline btn-sm bg-red-gradient"})
                           </div>
                           </div>
                       </div>
                       
                   }
               }
               <!-- right col -->
                </div>
        
            <!-- /.row (main row) -->
        </div><!-- /.container-fluid -->
    </section>
</div>