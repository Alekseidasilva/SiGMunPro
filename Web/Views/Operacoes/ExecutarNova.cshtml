@model Web.Models.Entidades.Operacoes
 

@{
    ViewBag.Title = "ExecutarNova";
   


}
<head>
    <link href="~/Content/Extras/Operacoes/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"/>
    <script src="~/Content/Extras/Operacoes/jquery-1.11.1.min.js"></script>
     <link href="~/Content/Extras/Operacoes/StyleSheet1.css" rel="stylesheet" />
</head>
<body> 
@using (Html.BeginForm("ExecutarNova", "Operacoes"))
{
<div class="main-content">
    <div class="container-fluid content-top-gap">
        <div class="card card_border">
          

            <div class="stepwizard">
                <div class="stepwizard-row setup-panel">
                    <div class="stepwizard-step">
                        <a href="#step-1" type="button" class="btn btn-primary btn-circle btn-lg"><i class="fa fa-user"></i></a>
                        <p>Buscar Munícipe</p>
                    </div>
                    <div class="stepwizard-step">
                        <a href="#step-2" type="button" class="btn btn-default btn-circle" disabled="disabled">2</a>
                        <p>Selecione</p>
                    </div>
                    <div class="stepwizard-step">
                        <a href="#step-3" type="button" class="btn btn-default btn-circle" disabled="disabled">3</a>
                        <p>Escolha</p>
                    </div>
                    <div class="stepwizard-step">
                        <a href="#step-4" type="button" class="btn btn-default btn-circle" disabled="disabled">4</a>
                        <p>Finalizar</p>
                    </div>
                </div>
            </div>
          
            <div class="row setup-content" id="step-1">
                <div class="col-xs-12">
                    <div class="col-md-12">
                        <div class="container justify-content-center">
                            <div id="custom-search-input">
                                <div class="input-group col-md-12">
                                    <p align="center">
                                        <strong style="font-size: 100px">NM</strong>ou &nbsp;
                                        <i class="fa fa-barcode" style="font-size: 100px"></i>&nbsp;&nbsp;ou&nbsp;&nbsp;<i class="fa fa-qrcode" style="font-size: 100px"></i>
                                    </p>
                                    <div class="form-group col-md-10">
                                        @Html.TextBox("txtPesquisar", null, new { @class = "form-control", type = "text", required = "required", PlaceHolder = "Digite o NM ou Passe o cartão ao leitor de código de barras ou Qr", title = "Digite o NM ou Passe o cartão ao leitor de código de barras ou Qr" })
                                    </div>
                                    <div class="form-group col-md-2">
                                        <button type="button" class="btn btn-outline-primary" id="btnPesquisar" title="pesquisar"><i class="fa fa-search"></i> Pesquisar</button>
                                    </div>
                                </div>
                            </div>
                           
                            @Html.Partial("mostrarDadosDoMunicipe")
                           
                            
                        </div>
                        <br />
                        <button class="btn btn-primary nextBtn btn-lg pull-right" type="button"><i class="fa fa-forward"></i> Seguinte</button>
                    </div>
                </div>
            </div>

            <div class="row setup-content" id="step-2">
                <div class="col-xs-12">
                    <div class="col-md-12">
                        <h3> Step 2</h3>
                        <div class="form-group">
                            <label class="control-label">Escolha o tipo de Documento</label>
                            @Html.DropDownList("OperacaoTipoDocumentoId", ViewBag.TiposDeDocumentos as SelectList, "Selecione o tipo de Documento", new {@class = "form-control", title = "Escolha o Tipo de Documento", required = "required",type="input"})
                        </div>
                        <div class="form-group">
                            <label class="control-label">Escolha a Finalidade</label>
                            @Html.DropDownList("FinalidadeId",new SelectList(""),"Selecione a Finalidade", htmlAttributes: new {@class = "form-control", title = "Escolha a comuna", required = "required"})
                        </div>
                        <div class="form-group">
                            <label class="control-label">Valor á Pagar</label>
                            <strong id="ValorCobrar" class="control-label pull-right" style="font-size: 40px; color: black">Kzs: 00,00</strong>
                        </div>
                        <br/>
                        <button class="btn btn-primary nextBtn btn-lg pull-right" type="button" ><i class="fa fa-forward"></i> Seguinte</button>
                    </div>
                </div>
            </div>
            <div class="row setup-content" id="step-3">
                <div class="col-xs-12">
                    <div class="col-md-12">
                        <h3> Step 2</h3>
                        <div class="form-group">
                            <label class="control-label">Company Name</label>
                            <input maxlength="200" type="text" required="required" class="form-control" placeholder="Enter Company Name" />
                        </div>
                        <div class="form-group">
                            <label class="control-label">Company Address</label>
                            <input maxlength="200" type="text" required="required" class="form-control" placeholder="Enter Company Address"  />
                        </div>
                        <button class="btn btn-primary nextBtn btn-lg pull-right" type="button" >Next</button>
                    </div>
                </div>
            </div>

            <div class="row setup-content" id="step-4">
                <div class="col-xs-12">
                    <div class="col-md-12">
                        <h3> Step 4</h3>
                        <button class="btn btn-outline-success btn-lg pull-right" type="submit"><i class="fa fa-print"></i> Finalizar!</button>
                        <button class="btn btn-outline-success btn-lg pull-right" type="submit"><i class="fa fa-print"></i> Finalizar e Imprimir!</button>
                        <a class="btn-outline-danger fa fa-close"> Cancelar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
          }
<script src="~/Content/js/jquery-1.10.2.min.js"></script>
          <script>
              $(document).ready(function () {

                  var navListItems = $('div.setup-panel div a'),
                      allWells = $('.setup-content'),
                      allNextBtn = $('.nextBtn');

                  allWells.hide();

                  navListItems.click(function (e) {
                      e.preventDefault();
                      var $target = $($(this).attr('href')),
                          $item = $(this);

                      if (!$item.hasClass('disabled')) {
                          navListItems.removeClass('btn-primary').addClass('btn-default');
                          $item.addClass('btn-primary');
                          allWells.hide();
                          $target.show();
                          $target.find('input:eq(0)').focus();
                      }
                  });

                  allNextBtn.click(function(){
                      var curStep = $(this).closest(".setup-content"),
                          curStepBtn = curStep.attr("id"),
                          nextStepWizard = $('div.setup-panel div a[href="#' + curStepBtn + '"]').parent().next().children("a"),
                          curInputs = curStep.find("input[type='text'],input[type='url']"),
                          isValid = true;

                      $(".form-group").removeClass("has-error");
                      for(var i=0; i<curInputs.length; i++){
                          if (!curInputs[i].validity.valid){
                              isValid = false;
                              $(curInputs[i]).closest(".form-group").addClass("has-error");
                          }
                      }

                      if (isValid)
                          nextStepWizard.removeAttr('disabled').trigger('click');
                  });

                  $('div.setup-panel div a.btn-primary').trigger('click');
              });
          </script>         
<!----DropDownList-----Comuna--------->
<script>
    $(document).ready(function() {
        $("#OperacaoTipoDocumentoId").change(function() {
            var tipoDocId = $(this).val();
            debugger;
            $.ajax({
                type: "post",
                url: "/Operacoes/GetFinalidadesPeloId?id=" + tipoDocId,
                contentType: "html",
                success: function(response) {
                    debugger;
                    $("#FinalidadeId").empty();
                    $("#FinalidadeId").append(response);
                }
            });
        });
    } )
</script>

<script >
    $(document).ready(function() {
        $("#btnPesquisar").click(function() {
            var textoPesquisar = $("#txtPesquisar").val();            
            debugger;
            $.ajax({
                type: "get",
                url: "/Operacoes/PesquisarMunicipe?txtMunicipe="+textoPesquisar,
                contentType:"html"
        });
    });
    });
</script>
</body>

  

