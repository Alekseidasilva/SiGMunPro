@*@model Web.Models.Entidades.Municipe.Municipe*@
@{
    ViewBag.Title = "Cadastrar";
}

<h2>Cadastrar</h2>

<script src="~/Scripts/jquery-3.5.1.js" type="text/javascript"></script>
<script src="~/Scripts/jquery-3.5.1.min.js" type="text/javascript"></script>
<script type="text/javascript">
    var x = "A";
    $(document).ready(function() {
        $("#Municipios").change(function() {
            $("#Comuna").empty();
            $.ajax({
                type: 'POST',
                url: '@Url.Action("CarregarComunasPorMunicipio")',
                dataType: 'json',
                data: { id: $("#Municipios").val()
                },
                success:

                    function(comunas) {
                        $.each(comunas,
                            function(i, comuna) {
                                $("#Comuna").append('<option value="' + comuna.value + '">' + comuna.text + '</option>');
                            });
                    },
                error: function(ex) {
                    alert('Falha ao carregar Comunas' + ex);
                }
            });
            return false;
        })
    });

</script>

<body lang="pt">
<div class="main-content">
    <div class="container-fluid content-top-gap">
        <div class="card card_border">
            @if (ViewBag.municipios != null)
            {
                <div class="form-group col-md-4">
                    <label for="inputState" class="input__label">Municipio</label>
                    @Html.DropDownList("Municipios", ViewData["municipios"] as List<SelectListItem>,new{@class="form-control"})
                </div>
            }

            
           
        </div>
    </div>
</div>



</body>
